# 利用索引绘制矩形

## 基本三角形构建矩形

一个矩形其实可以由两个共线的三角形组成，即 V0, V1, V2, V3，其中 V0 -> V1 -> V2 代表三角形A，V0 -> V2 -> V3代表三角形B。

![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/9/11/165c77b134803832~tplv-t2oaga2asx-watermark.awebp)

**注意：** 组成三角形的顶点要按照一定的顺序绘制。默认情况下，WebGL 会认为**顶点顺序为逆时针时代表正面**，反之则是背面，区分正面、背面的目的在于，如果开启了背面剔除功能的话，背面是不会被绘制的。当我们绘制 3D 形体的时候，这个设置很重要。

## 着色器

### 顶点着色器

- a_Position
- a_Color
- a_Screen_Size
- v_Color

### 片元着色器

- v_Color

## JavaScript 部分

仍然从简单之处着手，绘制固定顶点的矩形。

首先准备组成矩形的三角形，每个三角形由三个顶点组成，两个矩形共需要六个顶点。

前两位代表位置，后四位代表颜色。

```js
/**
 * 顶点信息
 */
const positions = [
	30, 30, 255, 0, 0, 1, // v0
	30, 240, 255, 0, 0, 1, // v1
	240, 240, 255, 0, 0, 1, // v2
	30, 30, 0, 255, 0, 1, // v0
	240, 240, 0, 255, 0, 1, // v2
	240, 30, 0, 255, 0, 1, // v3
]
```

我们给两个三角形设置不同颜色，其中，V0->V1->V2 三角形设置为红色， VO->V2->V3 三角形设置为绿色。